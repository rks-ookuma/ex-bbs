<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>

    <form action="board.html" th:action="@{/article/insertArticle}" th:object="${articleInsertForm}" method="POST">
    
    <label for="nameField"><span>投稿者名：</span>
    <input type="text" name="name" id="nameField" th:field="*{name}"></label><br>
    <label for="contentField"><span>投稿内容：</span>
    <textarea name="content" id="contenField" cols="30" rows="10"></textarea><br>
    </label>
    <button>記事投稿</button>
    </form>

    <div th:each=" article : ${articleList}">
        <hr>
        <span>投稿者名：</span><span th:text="${article.name}">山田</span><br>
        <span>投稿内容：</span>
        <pre th:text="${article.content}">
            新たな投稿です。
        </pre>

        <div>
            <a href="board.html" th:action="@{/article/deleteArticle}+'?id='+${article.id}">記事削除</a>
        </div>
        
        <div th:each="comment : ${article.commentList}" th:if="${comment}" style="color: green;">
            <span>コメント者名：</span><span th:text="${comment.name}">吉田１</span><br>
            <span>コメント内容：</span>
            <pre th:text="${comment.content}">
                山田さんの書き込みコメント１
            </pre>
        </div>

        <form action="board.html" th:action="@{/article/insertComment}" th:object="${commentInsertForm}">
            <label for="commentNameField">名前：</label><br>
            <input type="text" name="name" id="commentNameField" th:field="*{name}"><br>
            <label for="commentContentField">コメント：</label><br>
            <textarea name="content" id="commentContentField" cols="30" rows="10"></textarea><br>
            <button>コメント投稿</button>
        </form>

    </div>
</body>
</html>